## API网关 - 用户接口

/v1/user/

## API网关 - 新闻接口

/v1/news/

## API网关 - 数据接口

/v1/data/

## API网关 - 圈子接口

/v1/group/    含聚合逻辑的网关接口，粗粒度。  

### 1. 圈子首页

需要信息：
* 所有的版块列表
	* 版块id
	* 版块缩略图片
	* 版块名称
	* 帖子数量
	* 版块布局大小    占2/占1
	* 版块背景色色值  灰/白
	* 当前排序
	* 俱乐部信息
* 通知信息

```
GET  /v1/group/sections?onlined=true (获取上线的版块，因为中超有升降级，降级球队的版块第二年会被关闭)  

{
	"oper_code": "1",
	"data": {
		"sections": [
			{
				"id": "1", ->版块id
				"title": "中超联赛", -> 版块名称
				"logo": "", -> 版块的缩略图,为俱乐部队徽
				"name": "", -> 版块名称
				"clubId": "", -> 关联俱乐部id，中超联赛的版块不关联clubId
				"clubName": "", -> 关联俱乐部名称
				"leagueId": "", ->关联联赛id,联赛id不为空的时候，客户端显示大图
				"leagueName":"", ->关联联赛名称
				"topics": 3456, -> 发帖数
				"bgImage": "", ->背景图
				"orderNum": 1  ->显示排序
			},
			{},
			{}
		]
	}
}
```

### 2. 某个圈子-版块 首页

需要信息：
* 版块信息
	* 版块缩略图片
	* 帖子数量
	* 版块名称
* 版块置顶帖子列表
	* 帖子标题
	* 帖子id
* 版块当前新帖列表，默认20条，第1页
	* 发帖人id
	* 发帖人时间
	* 发帖人头像
	* 帖子内容
	* 帖子标题
	* 帖子附件图片
	* 帖子获赞数
	* 帖子评论数
	* 是否是加精华
* 该用户的等级等基本信息 (如果登录)
	* 等级
	* 头衔
	* 经验值

```
GET /v1/group/sections/{section_id}
	+ GET /group/v1/sections/{section_id} (版块基本信息)
	+ GET /group/v1/sections/{section_id}/topics?isTop=true (置顶信息)
	+ GET /group/v1/sections/{section_id}/topics?method=init (默认第一页帖子，并排除置顶贴)
	+ GET /user/v1/users/{user_id} (帖子关联的发帖人信息)

{
	"oper_code": "1",
	"data": {
		"section": {},  ->该版块信息
		"topedTopics": [
		], -> 版块置顶贴列表
		"topics":[
		] ->当前新帖列表
	}
}
```
### 2.1 圈子-版块-首页 下拉获取新帖

```
* GET /v1/group/sections/{section_id}/topics?method=refresh&timestamp={timestamp}
	+ GET /group/v1/sections/{section_id}/topics?method=refresh&timestamp={timestamp}
	+ GET /user/v1/users/{user_id}

{
	"oper_code": "1",
	"data": {
		"topics": []
	}
}
```

### 2.2 圈子-版块-首页 上拉翻页获取旧帖

* GET /v1/group/sections/{section_id}/topics?method=history&timestamp={timestamp}
	+ GET /group/v1/sections/{section_id}/topics?method=history&timestamp={timestamp}
	+ GET /user/v1/users/{user_id}

### 3. 某个圈子-版块 用户发表主题帖

需要信息:
* 帖子
	* 帖子标题
	* 帖子内容
	* 帖子@对象
	* 帖子附件图片

* POST /v1/group/app/sections/{section_id}/topcis (服务器检查敏感词)

### 4. 某个圈子-版块-帖子 详情页

需要信息:
* 主贴
* 主贴的获赞记录
* 回帖
* 回帖的有关评论

默认请求:

* GET /v1/group/sections/{section_id}/topics/{topic_id}
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/praises[?pagNum=1&pageSize=20]
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/replys[?pageNum=1&pageSize=20] (分页)
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/replys/{repla_id}/comment
	+ GET /user/v1/users/{user_id}

只看楼主(只获取发主贴人的相关主贴和回帖信息):

* GET /v1/group/sections/{section_id}/topics/{topic_id}?userId={user_id}
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}?userId={user_id}
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/praises?userId={user_id}[&pagNum=1&pageSize=20]
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/replys?userId={user_id[&pageNum=1&pageSize=20] (分页)
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/replys/{reply_id}/comment[?pageNum=1&pageSize=10]
	+ GET /user/v1/users/{user_id}

#### 4.1 对主贴进行回帖

POST /v1/group/sections/{section_id}/topics/{topic_id}/replys

#### 5. 某个圈子-版块-帖子-回贴 详情页

* GET /v1/group/sections/{section_id}/topics/{topic_id}/replys/{reply_id}
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/replys/{reply_id}
	+ GET /group/v1/sections/{section_id}/topics/{topic_id}/replys/{reply_id}/comment[?pageNum=1&pageSize=10]

#### 5.1 回帖的评论

POST /v1/group/sections/{section_id}/topics/{topic_id}/replys/comments

#### 6. 删除 [发帖人,管理员]

#### 7. 点赞

#### 7. 分享

#### 8. 举报

#### 9. 置顶 [管理员]

#### 10.加精 [管理员]

####
